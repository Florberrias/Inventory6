<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />
<title>Reorder Page</title>
</head>
<body>
	<header th:insert="layout/layout.html :: header"></header>
	<div th:replace="layout/layout.html :: menu"></div>
	<h1>Manage Orders</h1>
	<table width="100%">
		<tr>
			<!-- Select supplier and date range to generate specific reorder report -->
			<td><label for="suppliers">Supplier: </label>
				<select name="suppliers" id="suppliers">
					<option th:each="reorder: ${rlist}" 
							th:if="${reorder.orderQty} < ${reorder.product.MOQ}" 
							th:text="${reorder.product.supplier.id}"></option>
				</select>
			</td>			
			<td><label for="datefrom">Date From: </label>
				<input type="date" id="datefrom" name="datefrom">
				<td><label for="dateto">To: </label>
				<input type="date" id="dateto" name="dateto">
			</td>
			<td><button onclick="window.location.href='http://localhost:8080/reorder/reorderreport';">
			      Generate Reorder Report</button>
			      </td>
			
			<!-- View number of records per page -->
			<td><label for="pages">Record per page: </label> <select
				name="pages" id="pages">
					<option value="1">1</option>
					<option value="2">2</option>
					<option value="3">3</option>
					<option value="4">4</option>
					<option value="5">5</option>
					<option value="6">6</option>
					<option value="7">7</option>
					<option value="8">8</option>
					<option value="9">9</option>
					<option value="10">10</option>					
			</select></td>
		</tr>
	</table>
	<table class="table table-hover">
		<thead>
			<tr>
				<th>ORDER ID</th>
				<th>SUPPLIER ID</th>
				<th>NAME</th>
				<th>UNIT PRICE</th>
				<th>ORDER QTY</th>
				<th>REORDER QTY</th>
				<th>MIN ORDER QTY</th>
				<th>LAST REORDER DATE</th>
				<th>ORDER STATUS</th>
				<th></th>
				<th></th>
			</tr>
		</thead>

		<tr th:each="reorder: ${rlist}" th:if="${reorder.orderQty} < ${reorder.product.MOQ}">
			<td th:text="${reorder.id}">Default</td>
			<td th:text="${reorder.product.supplier.id}">Default</td>
			<td th:text="${reorder.product.name}">Default</td>
			<td th:text="${reorder.product.originalPrice}">Default</td>
			<td th:text="${reorder.orderQty}">Default</td>
			<td th:text="${reorder.product.reorderQty}">Default</td>
			<td th:text="${reorder.product.MOQ}">Default</td>
			<td th:text="${reorder.date}">Default</td>
			<td th:text="${reorder.status}">Default</td>
			<td>
				<div th:if="${reorder.status.name() == 'PENDING_ORDER'}"><button onclick="window.location.href='http://localhost:8080/reorder/reorderform';">
					Reorder Form</button>
				</div>
				<div th:if="${reorder.status.name() != 'PENDING_ORDER'}"><button onclick="window.location.href='http://localhost:8080/reorder/vieworder';">
					View Order</button>
				</div>
			</td>
			<td>
				<div th:if="${reorder.status.name() == 'PENDING_ORDER'}"></div>
				<div th:if="${reorder.status.name() == 'REORDERED'}"></div>
				<div th:if="${reorder.status.name() == 'RECEIVED'}"><button onclick="window.location.href='http://localhost:8080/reorder/editseform';">
					Edit SE Form</button>
				</div>
				<div th:if="${reorder.status.name() == 'ADDED_TO_INVENTORY'}"><button onclick="window.location.href='http://localhost:8080/reorder/viewseform';">
					View SE Form</button>
				</div>
			</td>
		</tr>

	</table>
	<div th:replace="layout/layout.html :: footer"></div>
</body>
</html>